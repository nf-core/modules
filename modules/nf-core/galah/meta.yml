---
# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/modules/yaml-schema.json
name: "galah"
description: Cluster genome FASTA files by average nucleotide identity
keywords:
  - genomics
  - cluster
  - genome
  - metagenomics
tools:
  - "galah":
      description: "Galah aims to be a more scalable metagenome assembled genome (MAG) dereplication method."
      homepage: "https://github.com/wwood/galah"
      documentation: "https://github.com/wwood/galah"
      tool_dev_url: "https://github.com/wwood/galah"
      doi: "10.1111/XXXX"
      licence: "['GPL v3']"

input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. `[ id:'test', single_end:false ]`
  - bins:
      type: file
      description: A list of fasta-formatted genomes for dereplication
      pattern: "*.{fa,fna,fa.gz, etc}"
  - checkm_tab_table:
      type: file
      description: |
        (optional) (CheckM)[https://nf-co.re/modules/checkm_lineagewf] summary TSV containing information on the completeness and contamination of the input genomes.
        Conflicts with genome_info.
      pattern: "*.tsv"
  - genome_info:
      type: file
      description: |
        (optional) CSV file with the header genome,completeness,contamination.
        `genome` is the name of the genome file, minus the file extension, and `completeness` and
        `contamination` are the completeness and contamination of each genome in percentages (0-100).
        Alternative to checkm_tab_table if genome QC scores come from another source (e.g. BUSCO).
        Conflicts with checkm_tab_table.
      pattern: "*.csv"

output:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. `[ id:'test', single_end:false ]`
  - tsv:
      type: file
      description: TSV file in the format `representative_genome` \t `member_genome`
      pattern: "*.tsv"
  - dereplicated_bins:
      type: file
      description: (optional, depending on input args) The representative genomes following dereplication by galah.
      pattern: "*"
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"
authors:
  - "@prototaxites"
