name: "mageck_test"
description: Mageck test performs a robust ranking aggregation (RRA) to identify positively or negatively selected genes in functional genomics screens.
keywords:
  - sort
  - rra
  - CRISPR
tools:
  - "mageck":
      description: "MAGeCK (Model-based Analysis of Genome-wide CRISPR-Cas9 Knockout), an algorithm to process, QC, analyze and visualize CRISPR screening data."
      homepage: "https://sourceforge.net/p/mageck/wiki/Home/#mle"
      documentation: "https://sourceforge.net/p/mageck/wiki/Home/"
      tool_dev_url: "https://bitbucket.org/liulab/mageck/src"
      doi: "10.1186/s13059-015-0843-6"
      licence: "['BSD License']"

input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test', single_end:false ]
  - count_table:
      type: file
      description: |
        Count table file.
        Each line in the table should include
        sgRNA name (1st column), target gene (2nd column)
        and read counts in each sample.
      pattern: "*.{txt,tsv}"

output:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test', single_end:false ]
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"
  - gene_summary:
      type: file
      description: |
        Gene summary file describing the fitness score
        and associated p-values.
      pattern: "*.{gene_summary.txt}"
  - sgrna_summary:
      type: file
      description: |
        sgRNA summary file describing the sgRNA and
        associated gene
      pattern: "*.{sgrna_summary.txt}"
  - r_script:
      type: file
      description: |
        R script allowing to output plots
        from main hit genes
      pattern: "*.R"

authors:
  - "@LaurenceKuhl"
