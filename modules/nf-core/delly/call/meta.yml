name: delly_call
description: Call structural variants
keywords:
  - genome
  - structural
  - variants
  - bcf
tools:
  - delly:
      description: Structural variant discovery by integrated paired-end and split-read
        analysis
      homepage: https://github.com/dellytools/delly
      documentation: https://github.com/dellytools/delly/blob/master/README.md
      doi: "10.1093/bioinformatics/bts378"
      licence: ["BSD-3-Clause"]
      args_id: "$args"
  - bgzip:
      description: Bgzip compresses or decompresses files in a similar manner to, and compatible with, gzip.
      homepage: https://www.htslib.org/doc/tabix.html
      documentation: http://www.htslib.org/doc/bgzip.html
      doi: 10.1093/bioinformatics/btp352
      licence: ["MIT"]
      args_id: "$args2"
  - tabix:
      description: Generic indexer for TAB-delimited genome position files.
      homepage: https://www.htslib.org/doc/tabix.html
      documentation: https://www.htslib.org/doc/tabix.1.html
      doi: 10.1093/bioinformatics/btq671
      licence: ["MIT"]
      args_id: "$args3"
input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test', single_end:false ]
  - input_1:
      type: file
      description: BAM/CRAM file from alignment must be sorted, indexed, and duplicate marked
      pattern: "*.{bam,cram}"
  - input_1_idx:
      type: file
      description: Index of the BAM/CRAM file
      pattern: "*.{bai,crai}"
  - input_ctrl:
      type: file
      description: |
        Optional BAM/CRAM file of matched control sample for somatic variant calling.
        Must be sorted, indexed, and duplicate marked.
      pattern: "*.{bam,cram}"
  - input_ctrl_idx:
      type: file
      description: Optional index of the control BAM/CRAM file
      pattern: "*.{bai,crai}"
  - vcf:
      type: file
      description: A BCF/VCF file to genotype with Delly. If this is supplied, the variant calling will be skipped
      pattern: "*.{vcf.gz,bcf}"
  - vcf_index:
      type: file
      description: The index of the BCF/VCF file
      pattern: "*.{tbi,csi}"
  - exclude_bed:
      type: file
      description: An optional bed file containing regions to exclude from the called VCF
      pattern: "*.bed"
  - meta2:
      type: map
      description: |
        Groovy Map containing fasta information
        e.g. [ id:'test', single_end:false ]
  - fasta:
      type: file
      description: The reference fasta file
      pattern: "*.{fasta,fa}"
  - meta3:
      type: map
      description: |
        Groovy Map containing fasta index information
        e.g. [ id:'test', single_end:false ]
  - fai:
      type: file
      description: Index of reference fasta file to identify split-reads
      pattern: "*.fai"
output:
  - bcf:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. [ id:'test', single_end:false ]
      - "*.{bcf,vcf.gz}":
          type: file
          description: Called variants in BCF/VCF format. Specify either "bcf" or "vcf"
            in ext.suffix to define the output type
          pattern: "*.{bcf,vcf.gz}"
  - csi:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. [ id:'test', single_end:false ]
      - "*.{csi,tbi}":
          type: file
          description: A generated csi index that matches the bcf output (not generated
            for vcf files)
          pattern: "*.{bcf.csi}"
  - versions:
      - versions.yml:
          type: file
          description: File containing software versions
          pattern: "versions.yml"
authors:
  - "@projectoriented"
  - "@nvnieuwk"
  - "@alexnater"
maintainers:
  - "@projectoriented"
  - "@nvnieuwk"
  - "@alexnater"
