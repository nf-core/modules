# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/modules/meta-schema.json
name: "telescope_assign"
description: The telescope assign program finds overlapping reads between an alignment (SAM/BAM) and an annotation (GTF)
  then reassigns reads using a statistical model.
keywords:
  - EM
  - single-locus
  - transcriptomics
tools:
  - "telescope":
      description: Single locus resolution of Transposable ELEment expression
      homepage: https://github.com/mlbendall/telescope
      documentation: https://github.com/mlbendall/telescope
      tool_dev_url: https://github.com/mlbendall/telescope
      doi: 10.1371/journal.pcbi.1006453
      licence: ["MIT"]
      identifier: biotools:Telescope-expression

input:
  - - meta_bam:
        type: map
        description: |
          Groovy Map containing sample information
          e.g. `[ id:'sample1' ]`
    - bam:
        type: file
        description: Sorted BAM/CRAM/SAM file, File must be collated so that all
          alignments for a read pair appear sequentially in the
          file
        pattern: "*.{bam,sam}"
        ontologies:
          - edam: "http://edamontology.org/format_2572" # BAM
          - edam: "http://edamontology.org/format_3462" # SAM

  - - meta_gtf:
        type: map
        description: |
          Groovy Map containing sample information
          e.g. `[id:'sample1' ]`
    - gtf:
        type: file
        description: Annotation file which includes TE loci.
        pattern: "*.{gtf}"
        ontologies:
          - edam: "http://edamontology.org/format_2306" # GTF

output:
  bam:
    - - meta_bam:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'sample1' ]`
      - "*{updated,other}.bam":
          type: file
          description: The updated SAM file contains those fragments that has at least 1 initial
            alignment to a transposable element.
          pattern: "*{updated,other}.bam"
          ontologies:
            - edam: "http://edamontology.org/format_2572" # BAM
  sam:
    - - meta_bam:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'sample1' ]`
      - "*{updated,other}.sam":
          type: file
          description: The updated SAM file contains those fragments that has at least 1 initial
            alignment to a transposable element.
          pattern: "*{updated,other}.bam"
          ontologies:
            - edam: "http://edamontology.org/format_3462" # SAM
  tsv:
    - - meta_bam:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'sample1' ]`
      - "*.tsv":
          type: file
          description: Statistical report associated with the run
          pattern: "*.tsv"
          ontologies:
            - edam: "http://edamontology.org/format_3475" # tsv
  log:
    - - meta_bam:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'sample1' ]`
      - "*.log":
          type: file
          description: Log file for telescope run output.
          pattern: "*.log"

  versions_telescope:
    - - ${task.process}:
          type: string
          description: The process the versions were collected from
      - telescope:
          type: string
          description: The tool name

authors:
  - "@hanalysis"
maintainers:
  - "@hanalysis"
