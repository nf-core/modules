---
# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/modules/meta-schema.json
name: "poolsnp"
description: PoolSNP is a heuristic SNP caller, which uses an MPILEUP file and a reference genome in FASTA format as inputs.
keywords:
  - poolseq
  - mpileup
  - variant-calling
tools:
  - "poolsnp":
      description: "PoolSNP is a heuristic SNP caller, which uses an MPILEUP file and a reference genome in FASTA format as inputs."
      homepage: "https://github.com/capoony/PoolSNP"
      documentation: "https://github.com/capoony/PoolSNP/blob/master/README.md"
      licence: ["Apache-2.0"]
      args_id: "$args"

input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information.
        e.g. `[ id:'sample1', single_end:false ]`

  - mpileup:
      type: file
      description: |
        MPILEUP file. This file contains the base calls and alignment information
        for each position in the reference genome.
        It is used as input for variant calling and other downstream analyses.
      pattern: "*.mpileup"

  - meta2:
      type: map
      description: |
        Groovy Map containing sample information.
        e.g. `[ id:'sample1' ]`

  - reference:
      type: file
      description: |
        Reference genome in FASTA format.
        May NOT contain any special characters such as "/|,:"
      pattern: "*.{fasta,fa}"

  - max_cov:
      type: integer
      description: |
        Maximum coverage is calculated for every library and chromosomal arm
        as the percentile of a coverage distribution,
        e.g. max-cov=0.98 will only consider positions within the 98% coverage percentile
        for a given sample and chromosomal arm.
        Read more: https://github.com/capoony/PoolSNP

output:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. `[ id:'sample1', single_end:false ]`

  - vcf:
      type: file
      description: Gzipped VCF file containing allele counts and frequencies for every position and library
      pattern: "*.vcf.gz"

  - max_cov:
      type: file
      description: File containing the maximum coverage thresholds for all chromosomal arms and libraries
      pattern: "*cov-*.txt"

  - bad_sites:
      type: file
      description: File containing a list of sites (variable and invariable) that did not pass the SNP calling criteria
      pattern: "*BS.txt.gz"

  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"

authors:
  - "@abhilesh"
maintainers:
  - "@abhilesh"
