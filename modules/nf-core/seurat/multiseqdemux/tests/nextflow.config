params{
    //optional parameters for MULTIseqdemux and parameter to start the visualisation module
    assay = "HTO"
    nfeatures = 2000
    quantile = 0.7
    autoThresh = false
    maxiter = 5
    qrange_from = 0.1
    qrange_to = 0.9
    qrange_by = 0.05
    verbose = true
    selection_method = "mean.var.plot"
    normalization_method = "CLR"

    // Parameters to generate plots
    group_cells_feature_scatter = "MULTI_ID"
    feature_scatter_feature_1 = "MS-11"
    feature_scatter_feature_2 = "MS-12"
    number_of_features_ridge_plot = 2
    number_of_cols_ridge_plot =  2
    group_cells_violin_plot = "MULTI_classification"
    features_violin_plot = "nCount_RNA"
    pt_size = 0.1
    log = true
    subset_idents = "Negative"
    subset_invert = true
    tsne_scale_data_verbose = false
    run_pca_approx = false
    run_tsne_dim_max = 2
    run_tsne_perplexity = 100
    check_duplicates_tsne = false
    resolution = 0.6
    singlet_identities_tsne = "MULTI_classification"

}

process{
    withName:SEURAT_MULTISEQDEMUX{
        ext.args = "--assay ${params.assay} --nfeatures ${params.nfeatures} --quantile ${params.quantile} --autoThresh ${params.autoThresh} --maxiter ${params.maxiter} --qrange_from ${params.qrange_from} --qrange_to ${params.qrange_to} --qrange_by ${params.qrange_by} --verbose ${params.verbose} --selection_method ${params.selection_method} --normalization_method ${params.normalization_method} --group_cells_feature_scatter ${params.group_cells_feature_scatter} --feature_scatter_feature_1 ${params.feature_scatter_feature_1} --feature_scatter_feature_2 ${params.feature_scatter_feature_2} --number_of_features_ridge_plot ${params.number_of_features_ridge_plot} --number_of_cols_ridge_plot ${params.number_of_cols_ridge_plot} --group_cells_violin_plot ${params.group_cells_violin_plot} --features_violin_plot ${params.features_violin_plot} --pt_size ${params.pt_size} --log ${params.log} --subset_idents ${params.subset_idents} --subset_invert ${params.subset_invert} --tsne_scale_data_verbose ${params.tsne_scale_data_verbose} --run_pca_approx ${params.run_pca_approx} --run_tsne_dim_max ${params.run_tsne_dim_max} --run_tsne_perplexity ${params.run_tsne_perplexity} --check_duplicates_tsne ${params.check_duplicates_tsne} --resolution ${params.resolution} --singlet_identities_tsne ${params.singlet_identities_tsne}"
    }

}