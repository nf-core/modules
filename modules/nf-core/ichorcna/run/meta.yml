name: ichorcna_run
description: ichorCNA is an R package for calculating copy number alteration from (low-pass) whole genome sequencing, particularly for use in cell-free DNA
keywords:
  - ichorcna
  - cnv
  - cna
  - cfDNA
  - wgs
tools:
  - ichorcna:
      description: Estimating tumor fraction in cell-free DNA from ultra-low-pass whole genome sequencing.
      homepage: https://github.com/broadinstitute/ichorCNA
      documentation: https://github.com/broadinstitute/ichorCNA/wiki
      tool_dev_url: https://github.com/broadinstitute/ichorCNA
      doi: "10.1038/s41467-017-00965-y"
      licence: ["GPL v3"]

input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test']
  - wig:
      type: file
      description: hmmcopy/readCounter processed .wig file giving the number of reads in the sample, in each genomic window
      pattern: "*.{wig}"

  - gc_wig:
      type: file
      description: hmmcopy/gcCounter processed .wig file giving the gc content in the reference fasta, in each genomic window
      pattern: "*.{wig}"

  - map_wig:
      type: file
      description: hmmcopy/mapCounter processed .wig file giving the mapability in the reference fasta, in each genomic window
      pattern: "*.{wig}"

  - panel_of_normals:
      type: file
      description: Panel of normals data, generated by calling ichorCNA on a set of normal samples with the same window size etc.
      pattern: "*.{rds}"

  - centromere:
      type: file
      description: Text file giving centromere locations of each genome, to exclude these windows
      pattern: "*.{txt}"

output:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test']
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"
  - cna_seg:
      type: file
      description: Predicted copy number variation per segment
      pattern: "*.{cng.seg}"
  - ichorcna_params:
      type: file
      description: A text file showing the values that ichorCNA has estimated for tumour fraction, ploidy etc
      pattern: "*.{params.txt}"
  - genome_plot:
      type: file
      description: A plot with the best-fit genome-wide CNV data
      pattern: "*.{genomeWide.pdf}"
authors:
  - "@sppearce"
