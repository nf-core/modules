# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/modules/yaml-schema.json
name: simpleaf_quant
description: simpleaf is a program to simplify and customize the running and configuration
  of single-cell processing with alevin-fry.
keywords:
  - quantification
  - gene expression
  - SimpleAF
tools:
  - simpleaf:
      description: |
        SimpleAF is a program to simplify and customize the running and configuration of single-cell processing with alevin-fry.
      homepage: https://github.com/COMBINE-lab/simpleaf
      licence: ["BSD-3-Clause"]
      identifier: ""
input:
  - - meta:
        type: map
        description: |
          Groovy Map containing sample information
          e.g. [ id:'test', single_end:false ]
    - chemistry:
        type: string
        description: |
          Chemistry used for library preparation.  It can be a string describing the specific chemistry or the geometry of the barcode, UMI, and mappable read.  For example, "10xv2" and "10xv3" will apply the appropriate settings for 10x Chromium v2 and v3 protocols, respectively.  Alternatively, you can provide a general geometry string if your chemistry is not pre-registered.  For example, instead of "10xv2", you could use "1{b[16]u[10]x:}2{r:}", or instead of "10xv3", you could use "1{b[16]u[12]x:}2{r:}". Details at https://hackmd.io/@PI7Og0l1ReeBZu_pjQGUQQ/rJMgmvr13
    - reads:
        type: file
        description: |
          List of input FastQ files for paired-end data.
          Reads should be grouped by pairs.
          For example, [ [R1_1.fastq.gz, R2_1.fastq.gz], [R1_2.fastq.gz, R2_2.fastq.gz] ]
  - - meta2:
        type: map
        description: |
          Groovy Map containing index information
          e.g. [ tool:'piscem' ]
    - index:
        type: directory
        description: Folder containing the index files. For a *salmon* index that is
          not generated by simpleaf to be taken, '--no-piscem' MUST be specified in
          ext.args.
  - - meta3:
        type: map
        description: |
          Groovy Map containing txp2gene information
          e.g. [ mode:'usa' ]
    - txp2gene:
        type: file
        description: |
          File mapping transcripts to genes. It can be either a two-column TSV file for a standard transcriptomic index containing the transcript-to-gene ID mapping information, or a three-column TSV file for an augmented transcriptomic index with the third column representing the splicing status of each transcript.
  - - resolution:
        type: string
        description: |
          UMI resolution (https://alevin-fry.readthedocs.io/en/latest/quant.html). Possible values are 'cr-like', 'cr-like-em', 'parsimony', 'parsimony-em', 'parsimony-gene', and 'parsimony-gene-em'.
  - - meta4:
        type: map
        description: |
          Groovy Map containing whitelist information.
          e.g. [ chemistry:'10xv3' ]
    - whitelist:
        type: file
        description: |
          Whitelist file containing valid cell barcodes. Optional (a path or []). Either this file or a valid permitlist generation option (https://simpleaf.readthedocs.io/en/latest/quant-command.html) in ext.args must exists for this module to run.
  - - meta5:
        type: map
        description: |
          Groovy Map containing existing mapping results.
          e.g. [ tool:'piscem' ]
    - map_dir:
        type: directory
        description: Folder containing the existing mapping results. It must be generated
          by simpleaf or alevin-fry, and contain the mapping file named map.rad.
output:
  - simpleaf:
      - meta_out:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. [ id:'test', single_end:false ]
      - ${prefix}:
          type: map
          description: |
            Folder containing the output files of simpleaf, including the quantification folder af_quant and optionally mapping folder af_map.
          pattern: "simpleaf"
  - map:
      - meta_out:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. [ id:'test', single_end:false ]
      - map_dir:
          type: map
          description: |
            Folder containing the mapping results. If map_dir is not provided, the mapping results will be generated by simpleaf.
          pattern: "simpleaf/af_map"
  - quant:
      - meta_out:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. [ id:'test', single_end:false ]
      - ${prefix}/af_quant:
          type: map
          description: |
            Folder containing the quantification results. The count matrix is stored in the af_quant/alevin directory.
          pattern: "simpleaf/af_quant/alevin"
  - versions:
      - versions.yml:
          type: file
          description: File containing software versions
          pattern: "versions.yml"
authors:
  - "@fmalmeida"
  - "@maxulysse"
  - "@Khajidu"
  - "@apeltzer"
  - "@pinin4fjords"
  - "@dongzehe"
maintainers:
  - "@fmalmeida"
  - "@maxulysse"
  - "@Khajidu"
  - "@apeltzer"
  - "@pinin4fjords"
  - "@dongzehe"
