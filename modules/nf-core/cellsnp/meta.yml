---
# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/modules/meta-schema.json
name: "cellsnp"
description: Cellsnp-lite is a C/C++ tool for efficient genotyping bi-allelic SNPs on single cells. You can use cellsnp-lite after read alignment to obtain the snp x cell pileup UMI or read count matrices for each alleles of given or detected SNPs.
keywords:
  - genotyping
  - single cell
  - SNP
tools:
  - "cellsnp":
      description: "Efficient genotyping bi-allelic SNPs on single cells"
      homepage: "https://github.com/single-cell-genetics/cellsnp-lite"
      documentation: "https://cellsnp-lite.readthedocs.io"
      tool_dev_url: "https://github.com/single-cell-genetics/cellsnp-lite"
      doi: "10.1093/bioinformatics/btab358"
      licence: ["Apache-2.0"]

input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. `[ id:'sample1', single_end:false ]`

  - bam:
      type: file
      description: Indexed BAM/CRAM file(s), comma separated multiple samples.
      pattern: "*.{bam,cram,sam}"
  - bai:
      type: file
      description: Index of the BAM/CRAM file.
      pattern: "*.{bai,crai}"
  - region_vcf:
      type: file
      description: A vcf file listing all candidate SNPs, for fetch each variants.
      pattern: "*.{vcf, vcf.gz}"
  - barcode:
      type: file
      description: A plain file listing all effective cell barcodes.
      pattern: "*.tsv"
  - sample_list:
      type: file
      description: A list file containing sample IDs, each per line.

output:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. `[ id:'sample1']`

  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"

  - base:
      type: file
      description: A VCF file listing genotyped SNPs and aggregated AD & DP infomation (without GT).
      pattern: "*.base.vcf.gz"
  - cell:
      type: file
      description: A VCF file listing genotyped SNPs and aggregated AD & DP infomation & genotype (GT) information for each cell or sample.
      pattern: "*.cells.vcf.gz"
  - sample:
      type: file
      description: A TSV file listing cell barcodes or sample IDs.
      pattern: "*.tsv"
  - allele_depth:
      type: file
      description: A file in “Matrix Market exchange formats”, containing the allele depths of the alternative (ALT) alleles.
      pattern: "*.tag.AD.mtx"
  - depth_coverage:
      type: file
      description: A file in “Matrix Market exchange formats”, containing the sum of allele depths of the reference and alternative alleles (REF + ALT).
      pattern: "*.tag.DP.mtx"
  - depth_other:
      type: file
      description: A file in “Matrix Market exchange formats”, containing the sum of allele depths of all the alleles other than REF and ALT.
      pattern: "*.tag.OTH.mtx"

authors:
  - "@wxicu"
maintainers:
  - "@wxicu"
