---
# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/modules/meta-schema.json
name: "mixcr"
## TODO nf-core: Add a description of the module and list keywords
description: write your description here
keywords:
  - TCR
  - BCR
  - repertoire
tools:
  - "mixcr":
      ## TODO nf-core: Add a description and other details for the software below
      description: "MiXCR is a universal software for fast and accurate analysis of raw T- or B- cell receptor repertoire sequencing data."
      homepage: "https://mixcr.com/"
      documentation: "https://mixcr.com/mixcr/reference/overview-analysis-overview/"
      tool_dev_url: "https://github.com/milaboratory/mixcr"
      doi: ""
      licence: "Copyright (c) 2014-2024, MiLaboratories Inc. All Rights Reserved"
      identifier: "milaboratories/mixcr"
      args_id: "$args"

## TODO nf-core: Add a description of all of the variables used as input
input:
  # Only when we have meta
  - reads:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'sample1', ]`
      - fastqs:
          type: file
          description: |
            Input FASTQ files containing TCR/BCR repertoire sequencing data.
          pattern: "*.{fastq.gz,fastq,fq,fq.gz}"
          ontologies:
            - edam: "http://edamontology.org/format_1930" 
  - preset:
      type: val
      description: Argument passed to `mixcr analyze` to specify the analysis preset
  - species:
      type: val
      description: Species used for analysis, e.g. `hsa`, `mouse`
  - license:
      type: env
      description: License key for MiXCR, stored as an env variable

output:
  - clones:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'sample1' ]`
      - "clones.tsv":
          type: file
          description: Clonotype abundance files
          pattern: "*clones*.tsv"
  - reports:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'sample1' ]`
      - "reports.txt":
          type: file
          description: MixCR performance reports
          pattern: "*.txt"
  - clns:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'sample1' ]`
      - ".clns":
          type: file
          description: Clone assembly intermediate file
          pattern: "*.clns"
  - vdjca:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'sample1' ]`
      - ".vdjca":
          type: file
          description: Clone alignment intermediate file
          pattern: "*.vdjca"
  - versions:
      - "versions.yml":
          type: file
          description: File containing software versions
          pattern: "versions.yml"

authors:
  - "@derrik-gratz"
maintainers:
  - "@derrik-gratz"
