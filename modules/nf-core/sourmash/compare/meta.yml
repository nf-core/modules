name: "sourmash_compare"
description: Compare many FracMinHash signatures generated by sourmash sketch.
keywords:
  - compare
  - FracMinHash sketch
  - containment
  - sourmash
  - metagenomics
  - genomics
  - kmer
tools:
  - "sourmash":
      description: "Compute and compare FracMinHash signatures for DNA and protein data sets."
      homepage: "https://sourmash.readthedocs.io/"
      documentation: "https://sourmash.readthedocs.io/"
      tool_dev_url: "https://github.com/sourmash-bio/sourmash"
      doi: "10.21105/joss.00027"
      licence: "['BSD-3-clause']"

input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test', single_end:false ]
  - signatures:
      type: file
      description: Files containing signatures (hash sketches) of samples
      pattern: "*.{sig}"
  - file_list:
      type: file
      description: |
        An optional file specifying a list of file paths that should be appended to the input signatures.
  - save_numpy_matrix:
      type: boolean
      description: |
        If true, output will contain a (dis)similarity matrix numpy binary format.
        At least one of save_numpy_matrix or save_csv is required.
  - save_csv:
      type: boolean
      description: |
        If true, output will contain a (dis)similarity matrix in CSV format
        At least one of save_numpy_matrix or save_csv is required.

output:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test', single_end:false ]
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"
  - numpy_matrix:
      type: file
      description: An optional (dis)similarity matrix numpy binary format
      pattern: "*.comp"
  - csv:
      type: file
      description: An optional (dis)similarity matrix in CSV format
      pattern: "*.comp.csv"
  - labels:
      type: file
      description: A text file that specifies the labels in the output numpy_matrix
      pattern: "*.comp.labels.txt"

authors:
  - "@taylorreiter"
