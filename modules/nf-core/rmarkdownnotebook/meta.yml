name: rmarkdownnotebook
description: Render an rmarkdown notebook. Supports parametrization.
keywords:
  - R
  - notebook
  - reports
tools:
  - rmarkdown:
      description: Dynamic Documents for R
      homepage: https://rmarkdown.rstudio.com/
      documentation: https://rmarkdown.rstudio.com/lesson-1.html
      tool_dev_url: https://github.com/rstudio/rmarkdown
      licence: ["GPL-3"]
      identifier: ""
params:
  - parametrize:
      type: boolean
      description: If true, parametrize the notebook
  - implicit_params:
      type: boolean
      description: |
        If true (default), include the implicit params
          * `input_dir`, which points to the directory containing the files added via `input_files`,
          * `artifact_dir`, which points to the directory where the notebook should place output files, and
          * `cpus`, which contains the value of ${task.cpus}
  - meta_params:
      type: boolean
      description: |
        If true, include a parameter `meta` which contains the information specified
        via the `meta` input channel.
input:
  - - meta:
        type: map
        description: |
          Groovy Map containing sample information
          e.g. [ id:'test', single_end:false ]
    - notebook:
        type: file
        description: Rmarkdown file
        pattern: "*.{Rmd}"
  - - parameters:
        type: map
        description: |
          Groovy map with notebook parameters which will be passed to
          rmarkdown to generate parametrized reports.
  - - input_files:
        type: file
        description: One or multiple files serving as input data for the notebook.
        pattern: "*"
output:
  - report:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. [ id:'test', single_end:false ]
      - "*.html":
          type: file
          description: HTML report generated from Rmarkdown
          pattern: "*.html"
  - parameterised_notebook:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. [ id:'test', single_end:false ]
      - "*.parameterised.Rmd":
          type: file
          description: Parameterised Rmarkdown file
          pattern: "*.parameterised.Rmd"
  - artifacts:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. [ id:'test', single_end:false ]
      - artifacts/*:
          type: file
          description: Artifacts generated by the notebook
          pattern: "artifacts/*"
  - session_info:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. [ id:'test', single_end:false ]
      - session_info.log:
          type: file
          description: dump of R SessionInfo
          pattern: "*.log"
  - versions:
      - versions.yml:
          type: file
          description: File containing software versions
          pattern: "versions.yml"
authors:
  - "@grst"
maintainers:
  - "@grst"
