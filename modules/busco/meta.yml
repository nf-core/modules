name: busco
description: Evaluation of the quality of genomic “data products” such as genome assemblies or gene sets.
keywords:
  - sort
tools:
  - busco:
      description: BUSCO provides measures for quantitative assessment of genome assembly, gene set, and transcriptome completeness based on evolutionarily informed expectations of gene content from near-universal single-copy orthologs selected from OrthoDB.
      homepage: "https://busco.ezlab.org/"
      documentation: "https://busco.ezlab.org/busco_userguide.html"
      tool_dev_url: "https://gitlab.com/ezlab/busco/-/releases#5.2.1"
      doi: "10.1002/cpz1.323"
      licence: ["MIT"]

input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test', mode:"protein", lineage:"", autolineage:false]
  - fasta:
      type: file
      description: |
        Either a nucleotide fasta file or a protein fasta file, depending on the BUSCO mode.
        As of v5.1.0 the input argument can now also be a directory containing fasta files to run in batch mode.
      pattern: "*.fasta" #How do I handle passing a directory to this?
  - mode:
      type: value
      description: Sets the assessment MODE as "genome", "protein", "transcriptome".
  - lineage:
      type: string
      description: |
        It can be a dataset name, i.e. bacteria_odb10, or a path i.e. ./bacteria_odb10 or /home/user/bacteria_odb10.
        In the former case, which is the recommended usage, BUSCO will automatically download and version the corresponding dataset.
        You can get the list of possible datasets by running "busco --list-datasets" see "www.busco.ezlab.org/list_of_lineages.html" and "www.busco.ezlab.org/busco_userguide.html#lineage-datasets".

output:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test', single_end:false ]
  - short_summary:
      type: txt
      description: Contains a plain text summary of the results in BUSCO notation.
      pattern: "./short_summary.*.txt"
  - run_full_table:
      type: tsv
      description: Contains the complete results in a tabular format with scores and lengths of BUSCO matches, and coordinates (for genome mode) or gene/protein IDs (for transcriptome or protein mode).
      pattern: "./run_*/full_table.tsv"
  - run_short_summary:
      type: txt
      description: Contains a plain text summary of the results in BUSCO notation.
      pattern: "./run_*/short_summary.*.txt"
  - missing_busco_list:
      type: tsv
      description: Contains a list of missing BUSCOs.
      pattern: "./run_*/missing_busco_list.tsv"
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"

authors:
  - "@nvlachos"
  - "@jvhagey"
