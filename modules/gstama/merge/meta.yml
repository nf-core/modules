name: gstama_merge
description: Merge multiple transcriptomes while maintaining source information.
keywords:
  - gstama
  - gstama/merge
  - long-read
  - isoseq
  - nanopore
  - tama
  - trancriptome
  - annotation
tools:
  - gstama:
      description: Gene-Switch Transcriptome Annotation by Modular Algorithms
      homepage: https://github.com/sguizard/gs-tama
      documentation: https://github.com/GenomeRIK/tama/wiki
      tool_dev_url: https://github.com/sguizard/gs-tama
      doi: "https://doi.org/10.1186/s12864-020-07123-7"
      licence: ["GPL v3 License"]

input:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test', single_end:false ]
  - bed:
      type: file
      description: bed12 file generated by TAMA collapse
      pattern: "*.bed"

output:
  - meta:
      type: map
      description: |
        Groovy Map containing sample information
        e.g. [ id:'test' ]
  - bed:
      type: file
      description: This is the main merged annotation file. Transcripts are coloured according to the source support for each model. Sources are numbered based on the order supplied in the input filelist file. For example the first file named in the filelist file would have its transcripts coloured in red. If a transcript has multiple sources the colour is shown as magenta.
      pattern: "*.bed"
  - gene_report:
      type: file
      description: This contains a report of the genes from the merged file. "num_clusters" refers to the number of source transcripts that were used to make this gene model. "num_final_trans" refers to the number of transcripts in the final gene model.
      pattern: "*_gene_report.txt"
  - merge:
      type: file
      description: This contains a bed12 format file which shows the coordinates of each input transcript matched to the merged transcript ID. I used the "txt" extension even though it is a bed file just to avoid confusion with the main bed file. You can use this file to map the final merged transcript models to their pre-merged supporting transcripts. The 1st subfield in the 4th column shows the final merged transcript ID while the 2nd subfield shows the pre-merged transcript ID with source prefix.
      pattern: "*_merge.txt"
  - trans_report:
      type: file
      description: This contains the source information for each merged transcript.
      pattern: "*_trans_report.txt"
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"

authors:
  - "@sguizard"
