# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/subworkflows/yaml-schema.json
name: bam_rseqc
description: Subworkflow to run multiple commands in the RSeqC package
keywords:
  - rnaseq
  - experiment
  - inferexperiment
  - bamstat
  - innerdistance
  - junctionannotation
  - junctionsaturation
  - readdistribution
  - readduplication
  - tin
components:
  - rseqc
  - rseqc/tin
  - rseqc/readduplication
  - rseqc/readdistribution
  - rseqc/junctionsaturation
  - rseqc/junctionannotation
  - rseqc/innerdistance
  - rseqc/inferexperiment
  - rseqc/bamstat
input:
  - bed:
      description: channel containing bed files
      structure:
        - bed:
            type: file
            description: BED file for the reference gene model
            pattern: "*.{bed}"
  - rseqc_modules:
      type: list
      description: |
        List of rseqc modules to run
        e.g. [ 'bam_stat', 'infer_experiment' ]
  - bam_bai:
      description: "channel containing input bam files"
      structure:
        - meta:
            type: map
            description: "groovy map"
        - bam:
            type: file
            description: "bamm file"
            pattern: "*.bam"
        - bai:
            type: file
            description: "bam index file"
            pattern: "*.bai"
output:
  - bamstat_txt:
      description: channel containing bam statistics report
      structure:
        - meta:
            type: map
            description: groovy map
        - txt:
            type: file
            description: bam statistics report
            pattern: "*.bam_stat.txt"
  - innerdistance_all:
      description: channel containing all the output files from RSEQC_INNERDISTANCE
      structure:
        - meta:
            type: map
            description: groovy map
        - txt:
            type: file
            description: TXT file
        - pdf:
            type: file
            description: PDF file
        - R:
            type: file
            description: R file
  - innerdistance_distance:
      description: channel containing inner distance distance file
      structure:
        - meta:
            type: map
            description: groovy map
        - txt:
            type: file
            description: inner distance distance file
            pattern: "*.txt"
  - innerdistance_freq:
      description: channel containing inner distance frequency file
      structure:
        - meta:
            type: map
            description: groovy map
        - txt:
            type: file
            description: inner distance frequency file
            pattern: "*.txt"
  - innerdistance_mean:
      description: channel containing inner distance mean file
      structure:
        - meta:
            type: map
            description: groovy map
        - txt:
            type: file
            description: inner distance mean file
            pattern: "*.txt"
  - innerdistance_pdf:
      description: channel containing inner distance pdf file
      structure:
        - meta:
            type: map
            description: groovy map
        - pdf:
            type: file
            description: inner distance pdf file
            pattern: "*.pdf"
  - innerdistance_rscript:
      description: channel containing inner distance rscript file
      structure:
        - meta:
            type: map
            description: groovy map
        - R:
            type: file
            description: inner distance rscript file
            pattern: "*.R"
  - inferexperiment_txt:
      description: channel containing infer experiment report
      structure:
        - meta:
            type: map
            description: groovy map
        - txt:
            type: file
            description: infer experiment report
            pattern: "*.txt"
  - junctionannotation_all:
      description: channel containing all the output files from RSEQC_JUNCTIONANNOTATION
      structure:
        - meta:
            type: map
            description: groovy map
        - bed:
            type: file
            description: BED file
            pattern: "*.bed"
        - xls:
            type: file
            description: XLS file
            pattern: "*.xls"
        - pdf:
            type: file
            description: PDF file
            pattern: "*.pdf"
        - R:
            type: file
            description: R file
            pattern: "*.R"
        - log:
            type: file
            description: log file
            pattern: "*.log"
  - junctionannotation_bed:
      description: channel containing junction annotation bed file
      structure:
        - meta:
            type: map
            description: groovy map
        - bed:
            type: file
            description: junction annotation bed file
            pattern: "*.bed"
  - junctionannotation_interact_bed:
      description: channel containing junction annotation interact bed file
      structure:
        - meta:
            type: map
            description: groovy map
        - bed:
            type: file
            description: junction annotation interact bed file
            pattern: "*.bed"
  - junctionannotation_xls:
      description: channel containing junction annotation xls file
      structure:
        - meta:
            type: map
            description: groovy map
        - xls:
            type: file
            description: junction annotation xls file
            pattern: "*.xls"
  - junctionannotation_pdf:
      description: channel containing junction annotation pdf file
      structure:
        - meta:
            type: map
            description: groovy map
        - pdf:
            type: file
            description: junction annotation pdf file
            pattern: "*.pdf"
  - junctionannotation_events_pdf:
      description: channel containing junction annotation events pdf file
      structure:
        - meta:
            type: map
            description: groovy map
        - pdf:
            type: file
            description: junction annotation events pdf file
            pattern: "*.pdf"
  - junctionannotation_rscript:
      description: channel containing junction annotation rscript file
      structure:
        - meta:
            type: map
            description: groovy map
        - R:
            type: file
            description: junction annotation rscript file
            pattern: "*.R"
  - junctionannotation_log:
      description: channel containing junction annotation log file
      structure:
        - meta:
            type: map
            description: groovy map
        - log:
            type: file
            description: junction annotation log file
            pattern: "*.log"
  - junctionsaturation_all:
      description: channel containing all the output files from RSEQC_JUNCTIONSATURATION
      structure:
        - meta:
            type: map
            description: groovy map
        - pdf:
            type: file
            description: PDF file
            pattern: "*.pdf"
        - R:
            type: file
            description: R file
            pattern: "*.R"
  - junctionsaturation_pdf:
      description: channel containing junction saturation pdf file
      structure:
        - meta:
            type: map
            description: groovy map
        - pdf:
            type: file
            description: junction saturation pdf file
            pattern: "*.pdf"
  - junctionsaturation_rscript:
      description: channel containing junction saturation rscript file
      structure:
        - meta:
            type: map
            description: groovy map
        - R:
            type: file
            description: junction saturation rscript file
            pattern: "*.R"
  - readdistribution_txt:
      description: channel containing read distribution report
      structure:
        - meta:
            type: map
            description: groovy map
        - txt:
            type: file
            description: read distribution report
            pattern: "*.txt"
  - readduplication_all:
      description: channel containing all the output files from RSEQC_READDUPLICATION
      structure:
        - meta:
            type: map
            description: groovy map
        - xls:
            type: file
            description: SEQ XLS file
            pattern: "*.seq.xls"
        - pdf:
            type: file
            description: PDF file
            pattern: "*.pdf"
        - R:
            type: file
            description: R file
            pattern: "*.R"
  - readduplication_seq_xls:
      description: channel containing read duplication seq xls file
      structure:
        - meta:
            type: map
            description: groovy map
        - xls:
            type: file
            description: read duplication seq xls file
            pattern: "*.xls"
  - readduplication_pos_xls:
      description: channel containing read duplication pos xls file
      structure:
        - meta:
            type: map
            description: groovy map
        - xls:
            type: file
            description: read duplication pos xls file
            pattern: "*.xls"
  - readduplication_pdf:
      description: channel containing read duplication pdf file
      structure:
        - meta:
            type: map
            description: groovy map
        - pdf:
            type: file
            description: read duplication pdf file
            pattern: "*.pdf"
  - readduplication_rscript:
      description: channel containing read duplication rscript file
      structure:
        - meta:
            type: map
            description: groovy map
        - R:
            type: file
            description: read duplication rscript file
            pattern: "*.R"
  - tin_txt:
      description: channel containing TIN report
      structure:
        - meta:
            type: map
            description: groovy map
        - txt:
            type: file
            description: TIN report
            pattern: "*.txt"
  - versions:
      description: channel containing versions of the tools used
      structure:
        - versions:
            type: file
            description: versions of the tools used
            pattern: "versions.yml"
authors:
  - "@drpatelh"
  - "@kevinmenden"
maintainers:
  - "@drpatelh"
  - "@kevinmenden"
