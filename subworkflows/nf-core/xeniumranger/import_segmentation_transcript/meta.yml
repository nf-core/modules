name: xeniumranger_import_segmentation_transcript
description: >
  Subworkflow that prepares transcript assignment inputs (e.g. Baysor outputs)
  and runs the `xeniumranger import-segmentation` module in transcript mode.
keywords:
  - xenium
  - import segmentation
  - transcript assignment
components:
  - xeniumranger/import-segmentation
  - xeniumranger/import/segmentation
input:
  - ch_input:
      description: >
        Channel emitting tuples `[meta, xenium_bundle, transcript_assignment, viz_polygons]`.
        Use `[]` for optional entries if not available.
      structure:
        - meta:
            type: map
            description: Sample metadata, must include `id`
        - xenium_bundle:
            type: directory
            description: Path to the Xenium bundle to reanalyse
        - transcript_assignment:
            type: file
            optional: true
            description: Baysor-like CSV for `--transcript-assignment`
        - viz_polygons:
            type: file
            optional: true
            description: GeoJSON polygons for `--viz-polygons`
output:
  - outs:
      description: Channel of Xenium bundle outputs produced by import-segmentation
      structure:
        - meta:
            type: map
            description: Sample metadata
        - "${meta.id}":
            type: directory
            description: Output Xenium bundle directory
  - versions:
      description: Aggregated versions emitted by the module
      structure:
        - process:
            type: string
            description: The process the versions were collected from
        - tool:
            type: string
            description: The tool name
        - version:
            type: string
            description: The command used to generate the version of the tool
authors:
  - "@an-altosian"
maintainers:
  - "@an-altosian"
