name: "bam_dedup_stats_samtools_umitools"
description: UMI-tools dedup, index BAM file and run samtools stats, flagstat and idxstats
keywords:
  - umi
  - dedup
  - index
  - bam
  - sam
  - cram
modules:
  - umitools/dedup
  - samtools/index
  - samtools/stats
  - samtools/idxstats
  - samtools/flagstat
input:
  - ch_bam_bai:
      description: |
        input BAM file
        Structure: [ meta, bam, bai ]
  - val_get_dedup_stats:
      type: boolean
      description: |
        Generate output stats when running "umi_tools dedup"
output:
  - bam:
      description: |
        Umi deduplicated BAM/SAM file
        Structure: [ meta, bam ]
  - bai:
      description: |
        Umi deduplicated BAM/SAM samtools index
        Structure: [ meta, bai ]
  - csi:
      description: |
        CSI samtools index
        Structure: [ meta, csi ]
  - stats:
      description: |
        File containing samtools stats output
        Structure: [ meta, stats ]
  - flagstat:
      description: |
        File containing samtools flagstat output
        Structure: [ meta, flagstat ]
  - idxstats:
      description: |
        File containing samtools idxstats output
        Structure: [ meta, idxstats ]
  - versions:
      description: Files containing software versions
      pattern: "versions.yml"

authors:
  - "@drpatelh"
  - "@KamilMaliszArdigen"
