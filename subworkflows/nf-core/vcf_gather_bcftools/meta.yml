# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/subworkflows/yaml-schema.json
name: "vcf_gather_bcftools"
description: |
  Concatenate several VCF files using bcftools concat.
  Especially works well with the scatter subworkflows in nf-core.
  An additional option can be given to sort the concatenated VCF.
keywords:
  - concat
  - vcf
  - gather
  - sort
  - bcftools
components:
  - bcftools/sort
  - bcftools/concat
  - tabix/tabix
input:
  - ch_vcfs:
      type: file(s)
      description: |
        VCF files and their indices that should be concatenated
        Structure: [ meta, vcf, tbi ]
  - ch_scatter_output:
      type: file and integer
      description: |
        The output created from a scatter subworkflow (contains a BED file and scatter_count).
        The BED file isn't actually used in the pipeline so can remain empty if you manually set this input channel
        Structure: [ meta, bed, scatter_count ]
  - val_common_meta:
      description: ""
  - val_sort:
      description: ""
output:
  - vcf:
      type: file
      description: |
        The concatenated (and possible sorted) VCF file
        Structure: [ meta, vcf ]
      pattern: "*.vcf.gz"
  - tbi:
      type: file
      description: |
        The indices of the output VCFs
        Structure: [ meta, tbi ]
      pattern: "*.vcf.gz.tbi"
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"
authors:
  - "@nvnieuwk"
maintainers:
  - "@nvnieuwk"
