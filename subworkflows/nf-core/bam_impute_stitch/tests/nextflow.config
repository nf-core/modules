process {
    withName: STITCH {
        cpus       = 1 // Needed to have deterministic output for testing
        ext.prefix = { "${meta.id}_${meta.chr}_${meta.regionout}.stitch" }
        tag = { "${meta.id} ${meta.chr} ${meta.regionout}" }
    }

    withName: GLIMPSE2_LIGATE {
        ext.prefix = { "${meta.id}_${meta.chr}.ligate" }
        tag        = { "${meta.id} ${meta.chr}" }
    }

    withName: BCFTOOLS_INDEX_1 {
        ext.args   = '--tbi'
        tag = { "${meta.id} ${meta.chr} ${meta.regionout}" }
        publishDir = [enabled: false]
    }

    withName: BCFTOOLS_INDEX_2 {
        ext.args   = '--csi'
        tag = { "${meta.id} ${meta.chr}" }
        publishDir = [enabled: false]
    }
}
