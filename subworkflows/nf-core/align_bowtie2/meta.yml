name: align_bowtie2
description: Align reads to a reference genome using bowtie2 then sort with samtols
keywords:
    - align
    - fasta
    - genome
    - reference
tools:
    - bowtie2:
          description: |
              Bowtie 2 is an ultrafast and memory-efficient tool for aligning
              sequencing reads to long reference sequences.
          homepage: http://bowtie-bio.sourceforge.net/bowtie2/index.shtml
          documentation: http://bowtie-bio.sourceforge.net/bowtie2/manual.shtml
          doi: 10.1038/nmeth.1923
    - samtools:
        description: |
            SAMtools is a set of utilities for interacting with and post-processing
            short DNA sequence read alignments in the SAM, BAM and CRAM formats, written by Heng Li.
            These files are generated as output by short read aligners like BWA.
        homepage: http://www.htslib.org/
        documentation: hhttp://www.htslib.org/doc/samtools.html
        doi: 10.1093/bioinformatics/btp352
input:
    - meta:
          type: map
          description: |
              Groovy Map containing sample information
              e.g. [ id:'test', single_end:false ]
    - reads:
          type: file
          description: |
              List of input FastQ files of size 1 and 2 for single-end and paired-end data,
              respectively.
    - index:
          type: file
          description: Bowtie2 genome index files
          pattern: "*.ebwt"
output:
    - bam:
          type: file
          description: Output BAM file containing read alignments
          pattern: "*.{bam}"
    - version:
          type: file
          description: File containing software version
          pattern: "*.{version.txt}"
    - fastq:
          type: file
          description: Unaligned FastQ files
          pattern: "*.fastq.gz"
    - log:
        type: file
        description: Alignment log
        pattern: "*.log"
    # TODO Add samtools outputs
authors:
    - "@drpatelh"
