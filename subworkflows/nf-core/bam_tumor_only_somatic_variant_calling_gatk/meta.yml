# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/subworkflows/yaml-schema.json
name: bam_tumor_only_somatic_variant_calling_gatk
description: |
  Perform variant calling on a single tumor sample using mutect2 tumor only mode.
  Run the input bam file through getpileupsummarries and then calculatecontaminationto get the contamination and segmentation tables.
  Filter the mutect2 output vcf using filtermutectcalls and the contamination & segmentation tables for additional filtering.
keywords:
  - gatk4
  - mutect2
  - getpileupsummaries
  - calculatecontamination
  - filtermutectcalls
  - variant_calling
  - tumor_only
  - filtered_vcf
components:
  - gatk4/mutect2
  - gatk4/getpileupsummaries
  - gatk4/calculatecontamination
  - gatk4/filtermutectcalls
input:
  - ch_input:
      description: ""
  - ch_fasta:
      description: ""
  - ch_fai:
      description: ""
  - ch_dict:
      description: ""
  - ch_germline_resource:
      description: ""
  - ch_germline_resource_tbi:
      description: ""
  - ch_panel_of_normals:
      description: ""
  - ch_panel_of_normals_tbi:
      description: ""
  - ch_interval_file:
      description: ""
output:
  - versions:
      type: file
      description: File containing software versions
      pattern: "versions.yml"
  - mutect2_vcf:
      type: file
      description: Compressed vcf file to be used for variant_calling.
      pattern: "[ *.vcf.gz ]"
  - mutect2_stats:
      type: file
      description: Stats files for the mutect2 vcf
      pattern: "[ *vcf.gz.stats ]"
  - pileup_table:
      type: file
      description: File containing the pileup summary table.
      pattern: "*.pileups.table"
  - contamination_table:
      type: file
      description: File containing the contamination table.
      pattern: "*.contamination.table"
  - segmentation_table:
      type: file
      description: Output table containing segmentation of tumor minor allele fractions.
      pattern: "*.segmentation.table"
  - filtered_vcf:
      type: file
      description: file containing filtered mutect2 calls.
      pattern: "*.vcf.gz"
  - filtered_stats:
      type: file
      description: file containing statistics of the filtermutectcalls run.
      pattern: "*.filteringStats.tsv"
  - mutect2_index:
      description: ""
  - filtered_index:
      description: ""
authors:
  - "@GCJMackenzie"
maintainers:
  - "@GCJMackenzie"
