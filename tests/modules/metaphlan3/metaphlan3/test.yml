- name: metaphlan3 test_metaphlan3_single_end
  command: nextflow run ./tests/modules/metaphlan3 -entry test_metaphlan3_single_end -c ./tests/config/nextflow.config -c ./tests/modules/metaphlan3/nextflow.config
  tags:
    - metaphlan3
  files:
    - path: output/metaphlan3/test.biom
      contains:
        - '"format": "Biological Observation Matrix 1.0.0","format_url": "http://biom-format.org","generated_by"'
    - path: output/metaphlan3/test.bowtie2out.txt
      md5sum: ef46a9c6a8ce9cae26fbfd5527116fd5
    - path: output/metaphlan3/test_profile.txt
      md5sum: 72d40ee2304c162f3c165e1e578ed152
    - path: output/untar/metaphlan_database/mpa_latest
      md5sum: b1337362f607000384563a56a6ff4790
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.1.bt2
      md5sum: d52a98fe273742ade7c744b819a7c5c1
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.2.bt2
      md5sum: b14cc7faf3a4fae792160c917aebfe03
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.3.bt2
      md5sum: 1bca5df879f2c6fad0c54984d0651bfb
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.4.bt2
      md5sum: 249ee1c672d52d50cee41cb94b6adc42
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.fasta
      md5sum: d3efe201c9eb449e877ead36656abf5f
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.pkl
      md5sum: b208bb15eaef50d91cc7d5e35a1518ee
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.rev.1.bt2
      md5sum: ed05be063280e8629193e52903b07591
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.rev.2.bt2
      md5sum: 1ca16b905abf657b88ca2bc12e7ad404

- name: metaphlan3 test_metaphlan3_paired_end
  command: nextflow run ./tests/modules/metaphlan3 -entry test_metaphlan3_paired_end -c ./tests/config/nextflow.config -c ./tests/modules/metaphlan3/nextflow.config
  tags:
    - metaphlan3
  files:
    - path: output/metaphlan3/test.biom
      contains:
        - '"format": "Biological Observation Matrix 1.0.0","format_url": "http://biom-format.org","generated_by"'
    - path: output/metaphlan3/test.bowtie2out.txt
      md5sum: ce11486fcc0e68fe7152867a3634e09a
    - path: output/metaphlan3/test_profile.txt
      md5sum: fcf99fec08ee00db6ef2c12fb93bc14b
    - path: output/untar/metaphlan_database/mpa_latest
      md5sum: b1337362f607000384563a56a6ff4790
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.1.bt2
      md5sum: d52a98fe273742ade7c744b819a7c5c1
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.2.bt2
      md5sum: b14cc7faf3a4fae792160c917aebfe03
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.3.bt2
      md5sum: 1bca5df879f2c6fad0c54984d0651bfb
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.4.bt2
      md5sum: 249ee1c672d52d50cee41cb94b6adc42
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.fasta
      md5sum: d3efe201c9eb449e877ead36656abf5f
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.pkl
      md5sum: b208bb15eaef50d91cc7d5e35a1518ee
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.rev.1.bt2
      md5sum: ed05be063280e8629193e52903b07591
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.rev.2.bt2
      md5sum: 1ca16b905abf657b88ca2bc12e7ad404

- name: metaphlan3 test_metaphlan3_sam
  command: nextflow run ./tests/modules/metaphlan3 -entry test_metaphlan3_sam -c ./tests/config/nextflow.config -c ./tests/modules/metaphlan3/nextflow.config
  tags:
    - metaphlan3
  files:
    - path: output/metaphlan3/test.biom
      contains:
        - '"format": "Biological Observation Matrix 1.0.0","format_url": "http://biom-format.org","generated_by"'
    - path: output/metaphlan3/test_profile.txt
      md5sum: e050d49f7df8a23617880ef9ed7745a0
    - path: output/samtools/test.sam.bam
      md5sum: 1d5be3c91979ead358e3980e3e7c9acf
    - path: output/untar/metaphlan_database/mpa_latest
      md5sum: b1337362f607000384563a56a6ff4790
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.1.bt2
      md5sum: d52a98fe273742ade7c744b819a7c5c1
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.2.bt2
      md5sum: b14cc7faf3a4fae792160c917aebfe03
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.3.bt2
      md5sum: 1bca5df879f2c6fad0c54984d0651bfb
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.4.bt2
      md5sum: 249ee1c672d52d50cee41cb94b6adc42
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.fasta
      md5sum: d3efe201c9eb449e877ead36656abf5f
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.pkl
      md5sum: b208bb15eaef50d91cc7d5e35a1518ee
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.rev.1.bt2
      md5sum: ed05be063280e8629193e52903b07591
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.rev.2.bt2
      md5sum: 1ca16b905abf657b88ca2bc12e7ad404

- name: metaphlan3 test_metaphlan3_fasta
  command: nextflow run ./tests/modules/metaphlan3 -entry test_metaphlan3_fasta -c ./tests/config/nextflow.config -c ./tests/modules/metaphlan3/nextflow.config
  tags:
    - metaphlan3
  files:
    - path: output/metaphlan3/test.biom
      contains:
        - '"format": "Biological Observation Matrix 1.0.0","format_url": "http://biom-format.org","generated_by"'
    - path: output/metaphlan3/test.bowtie2out.txt
      md5sum: fece494a410b8328608a11de10af6396
    - path: output/metaphlan3/test_profile.txt
      md5sum: d148c4203e5a9d59f5eea57207e40769
    - path: output/untar/metaphlan_database/mpa_latest
      md5sum: b1337362f607000384563a56a6ff4790
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.1.bt2
      md5sum: d52a98fe273742ade7c744b819a7c5c1
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.2.bt2
      md5sum: b14cc7faf3a4fae792160c917aebfe03
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.3.bt2
      md5sum: 1bca5df879f2c6fad0c54984d0651bfb
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.4.bt2
      md5sum: 249ee1c672d52d50cee41cb94b6adc42
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.fasta
      md5sum: d3efe201c9eb449e877ead36656abf5f
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.pkl
      md5sum: b208bb15eaef50d91cc7d5e35a1518ee
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.rev.1.bt2
      md5sum: ed05be063280e8629193e52903b07591
    - path: output/untar/metaphlan_database/mpa_v30_CHOCOPhlAn_201901.rev.2.bt2
      md5sum: 1ca16b905abf657b88ca2bc12e7ad404
