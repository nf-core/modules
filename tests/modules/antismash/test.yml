- name: antismash test_antismash
  command: nextflow run tests/modules/antismash -entry test_antismash -c tests/config/nextflow.config
  tags:
    - antismash
  files:
    - path: output/antismash/test/NZ_CP069563.1.region001.gbk
      contains:
        - '/tool="antismash"'
    - path: output/antismash/test/NZ_CP069563.1.region002.gbk
      contains:
        - '/tool="antismash"'
    - path: output/antismash/test/css/bacteria.css
      md5sum: 8b3c2f8b143d5245a5f42f55803c532c
    - path: output/antismash/test/genome.gbk
      contains:
        - '/tool="antismash"'
    - path: output/antismash/test/genome.json
      contains:
        - '{"version": "6.0.1", "input_file": "genome.gbff.gz", "records": [{"id": "NZ_CP069563.1", "seq": {"data":'
    - path: output/antismash/test/genome.zip
    - path: output/antismash/test/index.html
      md5sum: 32aaf51315258af3b300d9a5bafd7bdc
    - path: output/antismash/test/js/antismash.js
      md5sum: 58e90c3d783ae014cc3d51849bcb50a2
    - path: output/antismash/test/js/jquery.js
      md5sum: 397754ba49e9e0cf4e7c190da78dda05
    - path: output/antismash/test/js/jquery.tablesorter.min.js
      md5sum: 5e9e08cef4d1be0eaa538e6eb28809a7
    - path: output/antismash/test/regions.js
      contains:
        - 'var recordData = ['
    - path: output/antismash/test/test.log
      contains:
        - 'antiSMASH version: 6.0.1'
    - path: output/antismash/versions.yml
      md5sum: c574ecd9a325e967d9b81911746269a8

- name: antismash test_prokka_antismash
  command: nextflow run tests/modules/antismash -entry test_prokka_antismash -c tests/config/nextflow.config
  tags:
    - antismash
  files:
    - path: output/antismash/test/NZ_CP069563.1.region001.gbk
      contains:
        - '/tool="antismash"'
    - path: output/antismash/test/NZ_CP069563.1.region002.gbk
      contains:
        - '/tool="antismash"'
    - path: output/antismash/test/css/bacteria.css
      md5sum: 8b3c2f8b143d5245a5f42f55803c532c
    - path: output/antismash/test/index.html
      md5sum: 3773c3ec61fb1e8cd9a67791b37d9b79
    - path: output/antismash/test/js/antismash.js
      md5sum: 58e90c3d783ae014cc3d51849bcb50a2
    - path: output/antismash/test/js/jquery.js
      md5sum: 397754ba49e9e0cf4e7c190da78dda05
    - path: output/antismash/test/js/jquery.tablesorter.min.js
      md5sum: 5e9e08cef4d1be0eaa538e6eb28809a7
    - path: output/antismash/test/regions.js
      contains:
        - 'var recordData = ['
    - path: output/antismash/test/test.gbk
      contains:
        - '/tool="antismash"'
    - path: output/antismash/test/test.json
      contains:
        - '{"version": "6.0.1", "input_file": "test.gbk", "records": [{"id": "NZ_CP069563.1", "seq": {"data":'
    - path: output/antismash/test/test.log
      contains:
        - 'antiSMASH version: 6.0.1'
    - path: output/antismash/test/test.zip
    - path: output/antismash/versions.yml
      md5sum: 85e1801d5024e6391316d38cc81705bf
    - path: output/gunzip/genome.fna
      md5sum: dafd38f5454b54fbea38245d773062a5
    - path: output/gunzip/versions.yml
