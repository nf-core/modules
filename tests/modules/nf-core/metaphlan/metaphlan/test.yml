- name: metaphlan metaphlan test_metaphlan_single_end
  command: nextflow run ./tests/modules/nf-core/metaphlan/metaphlan -entry test_metaphlan_single_end -c ./tests/config/nextflow.config -c ./tests/modules/nf-core/metaphlan/metaphlan/nextflow.config
  tags:
    - metaphlan
    - metaphlan/metaphlan
  files:
    - path: output/metaphlan/test.biom
      contains:
        - '"format": "Biological Observation Matrix 1.0.0","format_url": "http://biom-format.org","generated_by"'
    - path: output/metaphlan/test.bowtie2out.txt
    - path: output/metaphlan/test_profile.txt
    - path: output/metaphlan/versions.yml
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.1.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.2.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.3.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.4.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.fna.bz2
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.pkl
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.rev.1.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.rev.2.bt2l
    - path: output/untar/versions.yml

- name: metaphlan metaphlan test_metaphlan_paired_end
  command: nextflow run ./tests/modules/nf-core/metaphlan/metaphlan -entry test_metaphlan_paired_end -c ./tests/config/nextflow.config -c ./tests/modules/nf-core/metaphlan/metaphlan/nextflow.config
  tags:
    - metaphlan
    - metaphlan/metaphlan
  files:
    - path: output/metaphlan/test.biom
      contains:
        - '"format": "Biological Observation Matrix 1.0.0","format_url": "http://biom-format.org","generated_by"'
    - path: output/metaphlan/test.bowtie2out.txt
    - path: output/metaphlan/test_profile.txt
    - path: output/metaphlan/versions.yml
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.1.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.2.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.3.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.4.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.fna.bz2
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.pkl
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.rev.1.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.rev.2.bt2l
    - path: output/untar/versions.yml

- name: metaphlan metaphlan test_metaphlan_fasta
  command: nextflow run ./tests/modules/nf-core/metaphlan/metaphlan -entry test_metaphlan_fasta -c ./tests/config/nextflow.config -c ./tests/modules/nf-core/metaphlan/metaphlan/nextflow.config
  tags:
    - metaphlan
    - metaphlan/metaphlan
  files:
    - path: output/metaphlan/test.biom
      contains:
        - '"format": "Biological Observation Matrix 1.0.0","format_url": "http://biom-format.org","generated_by"'
    - path: output/metaphlan/test.bowtie2out.txt
    - path: output/metaphlan/test_profile.txt
    - path: output/metaphlan/versions.yml
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.1.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.2.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.3.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.4.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.fna.bz2
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.pkl
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.rev.1.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.rev.2.bt2l
    - path: output/untar/versions.yml

- name: metaphlan metaphlan test_metaphlan_sam
  command: nextflow run ./tests/modules/nf-core/metaphlan/metaphlan -entry test_metaphlan_sam -c ./tests/config/nextflow.config -c ./tests/modules/nf-core/metaphlan/metaphlan/nextflow.config
  tags:
    - metaphlan
    - metaphlan/metaphlan
  files:
    - path: output/metaphlan/test.biom
      contains:
        - '"format": "Biological Observation Matrix 1.0.0","format_url": "http://biom-format.org","generated_by"'
    - path: output/metaphlan/test_profile.txt
    - path: output/metaphlan/versions.yml
    - path: output/samtools/test.sam
    - path: output/samtools/versions.yml
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.1.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.2.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.3.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.4.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.fna.bz2
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.pkl
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.rev.1.bt2l
    - path: output/untar/metaphlan4_database/mpa_vJan21_TOY_CHOCOPhlAnSGB_202103.rev.2.bt2l
    - path: output/untar/versions.yml
