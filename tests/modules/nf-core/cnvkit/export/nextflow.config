process {

    publishDir = { "${params.outdir}/${task.process.tokenize(':')[-1].tokenize('_')[0].toLowerCase()}" }
    
    withName: 'CNVKIT_EXPORT_BED' {
        ext.args = { "bed -i ${meta.id}" }
        ext.suffix = "bed"
    }

    withName: 'CNVKIT_EXPORT_VCF' {
        ext.args = { "vcf -i ${meta.id}" }
        ext.suffix = "vcf"
    }

    withName: 'CNVKIT_EXPORT_CDT' {
        ext.args = "cdt"
        ext.suffix = "cdt"
    }

    withName: 'CNVKIT_EXPORT_JTV' {
        ext.args = "jtv"
        ext.suffix = "jtv"
    }

    withName: 'CNVKIT_EXPORT_SEG' {
        ext.args = "seg"
        ext.suffix = "seg"
    }

    withName: 'CNVKIT_EXPORT_THETA' {
        ext.args = "theta"
        ext.suffix = "theta"
    }

}