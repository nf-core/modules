- name: iphop download test_iphop_download
  command: nextflow run ./tests/modules/nf-core/iphop/download -entry test_iphop_download -c ./tests/config/nextflow.config -c ./tests/modules/nf-core/iphop/download/nextflow.config
  tags:
    - iphop
    - iphop/download
  files:
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.fna
      md5sum: 6a7d2514c8f34a19860e19f6d44c45e8
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.ndb
      md5sum: e1381d38095160047360b6929828064f
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.nhr
      md5sum: 4c40a2fd7a61373e87682914f019c5c0
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.nin
      md5sum: babc188761a6e04125e76cd2b4088ecd
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.not
      md5sum: 173e2bc06cba5f975cc52296a46d2476
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.nsq
      md5sum: 07c1c2ccee67581c3661296071a623c2
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.ntf
      md5sum: 1f6027d443e67a98ad0edc2d39971b0c
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.nto
      md5sum: 187c9bfc0c5af27bd7d41fbb3adaaeb9
    - path: output/iphop/iphop_db/db/GTDBtkr202_and_newrepr_s2_mat.pkl
      md5sum: 6b99b8a46f77e4eec7923f921cc83e73
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.ndb
      md5sum: f8050704344560bf4c63e12fc5d35c0b
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.nhr
      md5sum: 6a17ccec7523ce882d6d2f8c856d0a00
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.nin
      md5sum: f038448999114dfa5b6acc38ceb021fe
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.not
      md5sum: 0ebd9c0926fc353cd633b196667ef382
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.nsq
      md5sum: 1eeeb609edd55324369f156dded38eac
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.ntf
      md5sum: 1f6027d443e67a98ad0edc2d39971b0c
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.nto
      md5sum: adecfa385fa59ac6cb30addc1080da85
    - path: output/iphop/iphop_db/db/php_db
      md5sum: ae1b6b408ea56b16640322eebd1bcc01
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Filtered_0.9_Valids.hmm.h3f
      md5sum: 9c8c56535ebd2460b443fb89215ff808
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Filtered_0.9_Valids.hmm.h3i
      md5sum: c618b90f37ab7ed672d8ee4e71dcf160
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Filtered_0.9_Valids.hmm.h3m
      md5sum: c2088e0ca7d08360fd19740bba6382e9
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Filtered_0.9_Valids.hmm.h3p
      md5sum: fa962a9c7663db6455e77ebac74b3c77
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Valid_Cols.txt
      md5sum: 5ef8400662a6acb2272d552c6932cda6
    - path: output/iphop/iphop_db/db/rafah_data/MMSeqs_Clusters_Ranger_Model_1+2+3_Clean.RData
      md5sum: f35f17f8a45a42ecd1d0a8027c3b7d13
    - path: output/iphop/iphop_db/db/rafah_data/RaFAH_ref_cds.count.tsv
      md5sum: 652901ebf1e4b5226b0a26eb534c7f73
    - path: output/iphop/iphop_db/db/rafah_data/RaFAH_ref_cds.dmnd
      md5sum: 47c6c3bf1474e09d6924032fd4cb6ec4
    - path: output/iphop/iphop_db/db/rewish_models/Batch_1.pkl
      md5sum: 30f4e58f301218fd09f25341c69929ad
    - path: output/iphop/iphop_db/db/wish_data/Decoy_db/Decoy_phages.fna
      md5sum: a8bf8131f87c113330944a40755a9496
    - path: output/iphop/iphop_db/db_infos/All_CRISPR_array_size.tsv
      md5sum: 4cf68b44460816335613a0e4acc8e613
    - path: output/iphop/iphop_db/db_infos/All_CRISPR_spacers_nr_clean.metrics.csv
      md5sum: 144e10668b5493876518e686f5916f4f
    - path: output/iphop/iphop_db/db_infos/Host_Genomes.tsv
      md5sum: ccc44765a757368b7918bffb347dee66
    - path: output/iphop/iphop_db/db_infos/List_contigs_removed_blast.tsv
      md5sum: a375fa62145aa93f2df7fa80c67ebbe0
    - path: output/iphop/iphop_db/db_infos/Translate_genus_to_full_taxo.tsv
      md5sum: ec0924c6713c64b82f9310a1fc31719f
    - path: output/iphop/iphop_db/db_infos/Wish_negFits.csv
      md5sum: d6a26042ddc41a3a1359d2b55a96f878
    - path: output/iphop/iphop_db/db_infos/gtdbtk.ar122.decorated.tree
      md5sum: 9145ade9f375340900b0d28c7a3bc7a1
    - path: output/iphop/iphop_db/db_infos/gtdbtk.bac120.decorated.tree
      md5sum: 27f8c16204d68de9be3b2759fa3f3c86
    - path: output/iphop/iphop_db/md5checkfile.txt
      md5sum: 55940015be8eac011587c36fbc8a24cd
    - path: output/iphop/versions.yml

- name: iphop download test_iphop_download_stub
  command: nextflow run ./tests/modules/nf-core/iphop/download -entry test_iphop_download -c ./tests/config/nextflow.config -c ./tests/modules/nf-core/iphop/download/nextflow.config -stub-run
  tags:
    - iphop
    - iphop/download
  files:
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.fna
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.ndb
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.nhr
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.nin
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.not
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.nsq
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.ntf
    - path: output/iphop/iphop_db/db/All_CRISPR_spacers_nr_clean.nto
    - path: output/iphop/iphop_db/db/GTDBtkr202_and_newrepr_s2_mat.pkl
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.ndb
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.nhr
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.nin
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.not
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.nsq
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.ntf
    - path: output/iphop/iphop_db/db/Host_Genomes/Host_Genomes.nto
    - path: output/iphop/iphop_db/db/php_db
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Filtered_0.9_Valids.hmm.h3f
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Filtered_0.9_Valids.hmm.h3i
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Filtered_0.9_Valids.hmm.h3m
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Filtered_0.9_Valids.hmm.h3p
    - path: output/iphop/iphop_db/db/rafah_data/HP_Ranger_Model_3_Valid_Cols.txt
    - path: output/iphop/iphop_db/db/rafah_data/MMSeqs_Clusters_Ranger_Model_1+2+3_Clean.RData
    - path: output/iphop/iphop_db/db/rafah_data/RaFAH_ref_cds.count.tsv
    - path: output/iphop/iphop_db/db/rafah_data/RaFAH_ref_cds.dmnd
    - path: output/iphop/iphop_db/db/rewish_models/Batch_1.pkl
    - path: output/iphop/iphop_db/db/wish_data/Decoy_db/Decoy_phages.fna
    - path: output/iphop/iphop_db/db_infos/All_CRISPR_array_size.tsv
    - path: output/iphop/iphop_db/db_infos/All_CRISPR_spacers_nr_clean.metrics.csv
    - path: output/iphop/iphop_db/db_infos/Host_Genomes.tsv
    - path: output/iphop/iphop_db/db_infos/List_contigs_removed_blast.tsv
    - path: output/iphop/iphop_db/db_infos/Translate_genus_to_full_taxo.tsv
    - path: output/iphop/iphop_db/db_infos/Wish_negFits.csv
    - path: output/iphop/iphop_db/db_infos/gtdbtk.ar122.decorated.tree
    - path: output/iphop/iphop_db/db_infos/gtdbtk.bac120.decorated.tree
    - path: output/iphop/iphop_db/md5checkfile.txt
    - path: output/iphop/versions.yml
