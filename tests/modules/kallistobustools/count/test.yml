- name: kallistobustools count test_kallistobustools_count
  command: nextflow run ./tests/modules/kallistobustools/count -entry test_kallistobustools_count -c ./tests/config/nextflow.config -c ./tests/modules/kallistobustools/count/nextflow.config
  tags:
    - kallistobustools/count
    - kallistobustools
  files:
    - path: output/kallistobustools/test.count/10x_version3_whitelist.txt
      md5sum: 3d36d0a4021fd292b265e2b5e72aaaf3
    - path: output/kallistobustools/test.count/counts_unfiltered/cellranger/barcodes.tsv
      md5sum: 8f734732c46f52c4d1c025bfe4134bd2
    - path: output/kallistobustools/test.count/counts_unfiltered/cellranger/genes.tsv
      md5sum: fbebf995a3de568db8ac028cd0c5d993
    - path: output/kallistobustools/test.count/counts_unfiltered/cellranger/matrix.mtx
      md5sum: 4847bae27c41961496d504bcfe9890ba
    - path: output/kallistobustools/test.count/counts_unfiltered/cells_x_genes.barcodes.txt
      md5sum: cafdf96423987e3d9e807cdc16139541
    - path: output/kallistobustools/test.count/counts_unfiltered/cells_x_genes.genes.txt
      md5sum: 52d0627aaf0418bebe3ef75ad77da53f
    - path: output/kallistobustools/test.count/counts_unfiltered/cells_x_genes.mtx
      md5sum: d05e1582385ba5f215fa73c470343c06
    - path: output/kallistobustools/test.count/inspect.json
      md5sum: d3d23063f3fc07f7fbd24748aa4271a9
    - path: output/kallistobustools/test.count/kb_info.json
      contains:
        - "kallisto"
    - path: output/kallistobustools/test.count/matrix.ec
      md5sum: cd8340e3fb78d74ad85fabdbe0a778f0
    - path: output/kallistobustools/test.count/output.bus
      md5sum: f4702922bd0c142e34b3680c2251426a
    - path: output/kallistobustools/test.count/output.unfiltered.bus
      md5sum: e38f99748e598e33fe035b89e7c89fb5
    - path: output/kallistobustools/test.count/run_info.json
      contains:
        - "n_targets"
    - path: output/kallistobustools/test.count/transcripts.txt
      md5sum: 6d583083eaf6ca81e409332a40d2e74c
