# We run this test using `should_exist` because:
# a) the path to the file is embedded inside it, 
# b) the file is binary so we can't check for text inside it.
- name: gatk4 indexfeaturefile bed
  command: nextflow run tests/modules/gatk4/indexfeaturefile -entry test_gatk4_indexfeaturefile_bed -c tests/config/nextflow.config
  tags:
    - gatk4
    - gatk4/indexfeaturefile
    - gatk4/indexfeaturefile/bed
  files:
    - path: output/gatk4/genome.bed.idx
      should_exist: true
      #contains: [ "chr22" ]

- name: gatk4 indexfeaturefile bed.gz
  command: nextflow run tests/modules/gatk4/indexfeaturefile -entry test_gatk4_indexfeaturefile_bed_gz -c tests/config/nextflow.config
  tags:
    - gatk4
    - gatk4/indexfeaturefile
    - gatk4/indexfeaturefile/gz
    - gatk4/indexfeaturefile/bed/gz
  files:
    - path: output/gatk4/genome.bed.gz.tbi
      md5sum: 2eb6ed0a0b049efe4caa1413089dcd74

# We run this test using `should_exist` because:
# a) the path to the file is embedded inside it, 
# b) the file is binary so we can't check for text inside it.
- name: gatk4 indexfeaturefile vcf
  command: nextflow run tests/modules/gatk4/indexfeaturefile -entry test_gatk4_indexfeaturefile_vcf -c tests/config/nextflow.config
  tags:
    - gatk4
    - gatk4/indexfeaturefile
    - gatk4/indexfeaturefile/vcf
  files:
    - path: output/gatk4/test.genome.vcf.idx
      should_exist: true
      #contains: [ "chr22" ]

- name: gatk4 indexfeaturefile vcf.gz
  command: nextflow run tests/modules/gatk4/indexfeaturefile -entry test_gatk4_indexfeaturefile_vcf_gz -c tests/config/nextflow.config
  tags:
    - gatk4
    - gatk4/indexfeaturefile
    - gatk4/indexfeaturefile/gz
    - gatk4/indexfeaturefile/vcf/gz
  files:
    - path: output/gatk4/test.genome.vcf.gz.tbi
      md5sum: ea03cd1d1f178eefa656787537053c37
