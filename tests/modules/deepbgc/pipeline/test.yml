- name: deepbgc pipeline test_deepbgc_pipeline_gbk
  command: nextflow run ./tests/modules/deepbgc/pipeline -entry test_deepbgc_pipeline_gbk -c ./tests/config/nextflow.config  -c ./tests/modules/deepbgc/pipeline/nextflow.config
  tags:
    - deepbgc/pipeline
    - deepbgc
  files:
    - path: output/deepbgc/deepbgc_db/0.1.0/classifier/product_activity.pkl
      md5sum: 90f0c010460e9df882cb057664a49f30
    - path: output/deepbgc/deepbgc_db/0.1.0/classifier/product_class.pkl
      md5sum: f78a2eda240403d2f40643d42202f3ac
    - path: output/deepbgc/deepbgc_db/0.1.0/detector/clusterfinder_geneborder.pkl
      md5sum: ca4be7031ae9f70780f17c616a4fa5b5
    - path: output/deepbgc/deepbgc_db/0.1.0/detector/clusterfinder_original.pkl
      md5sum: 2ca2429bb9bc99a401d1093c376b37aa
    - path: output/deepbgc/deepbgc_db/0.1.0/detector/clusterfinder_retrained.pkl
      md5sum: 65679a3b61c562ff4b84bdb574bb6d93
    - path: output/deepbgc/deepbgc_db/0.1.0/detector/deepbgc.pkl
      md5sum: 7e9218be79ba45bc9adb23bed3845dc1
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.clans.tsv
      md5sum: a0a4590ffb2b33b83ef2b28f6ead886b
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm
      md5sum: 79a3328e4c95b13949a4489b19959fc5
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm.h3f
      md5sum: cbca323cf8dd4e5e7c109114ec444162
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm.h3i
      md5sum: 5242332a3f6a60cd1ab634cd9331afd6
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm.h3m
      md5sum: 1fe946fa2b3bcde1d4b2bad732bce612
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm.h3p
      md5sum: 27b98a1ded123b6a1ef72db01927017c
    - path: output/deepbgc/test_gbk/LOG.txt
      contains: ["Saved DeepBGC result to:"]
    - path: output/deepbgc/test_gbk/README.txt
    - path: output/deepbgc/test_gbk/test_gbk.antismash.json
      md5sum: 7dba3996cf38756b05e7612de8433c23
    - path: output/deepbgc/test_gbk/test_gbk.bgc.gbk
    - path: output/deepbgc/test_gbk/test_gbk.full.gbk
    - path: output/gunzip/test1.contigs.fa
      md5sum: 80c4d78f2810f6d9e90fa6da9bb9c4f9
    - path: output/prodigal/test_gbk.faa
      md5sum: b140ca303ff9ee32e615bfcc4b05038c
    - path: output/prodigal/test_gbk.fna
      md5sum: 28232dd696754fb95308874c9528296f
    - path: output/prodigal/test_gbk.gbk
      md5sum: b5c309b0296e7cdc21d1e71f33400f20
    - path: output/prodigal/test_gbk_all.txt
      md5sum: 8fe56fcf4d9e839e83be7523cd3efa02

- name: deepbgc pipeline test_deepbgc_pipeline_fa
  command: nextflow run ./tests/modules/deepbgc/pipeline -entry test_deepbgc_pipeline_fa -c ./tests/config/nextflow.config  -c ./tests/modules/deepbgc/pipeline/nextflow.config
  tags:
    - deepbgc/pipeline
    - deepbgc
  files:
    - path: output/deepbgc/deepbgc_db/0.1.0/classifier/product_activity.pkl
      md5sum: 90f0c010460e9df882cb057664a49f30
    - path: output/deepbgc/deepbgc_db/0.1.0/classifier/product_class.pkl
      md5sum: f78a2eda240403d2f40643d42202f3ac
    - path: output/deepbgc/deepbgc_db/0.1.0/detector/clusterfinder_geneborder.pkl
      md5sum: ca4be7031ae9f70780f17c616a4fa5b5
    - path: output/deepbgc/deepbgc_db/0.1.0/detector/clusterfinder_original.pkl
      md5sum: 2ca2429bb9bc99a401d1093c376b37aa
    - path: output/deepbgc/deepbgc_db/0.1.0/detector/clusterfinder_retrained.pkl
      md5sum: 65679a3b61c562ff4b84bdb574bb6d93
    - path: output/deepbgc/deepbgc_db/0.1.0/detector/deepbgc.pkl
      md5sum: 7e9218be79ba45bc9adb23bed3845dc1
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.clans.tsv
      md5sum: a0a4590ffb2b33b83ef2b28f6ead886b
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm
      md5sum: 79a3328e4c95b13949a4489b19959fc5
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm.h3f
      md5sum: cbca323cf8dd4e5e7c109114ec444162
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm.h3i
      md5sum: 5242332a3f6a60cd1ab634cd9331afd6
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm.h3m
      md5sum: 1fe946fa2b3bcde1d4b2bad732bce612
    - path: output/deepbgc/deepbgc_db/common/Pfam-A.31.0.hmm.h3p
      md5sum: 27b98a1ded123b6a1ef72db01927017c
    - path: output/deepbgc/test1.contigs/LOG.txt
      contains: ["Saved DeepBGC result to:"]
    - path: output/deepbgc/test1.contigs/README.txt
    - path: output/deepbgc/test1.contigs/evaluation/test1.contigs.bgc.png
      md5sum: f4a0fc6cd260e2d7ad16f7a1fa103f96
    - path: output/deepbgc/test1.contigs/evaluation/test1.contigs.score.png
      md5sum: 572e8882031f667580d8c8e13c2cbb91
    - path: output/deepbgc/test1.contigs/test1.contigs.antismash.json
      contains: ['"name": "DeepBGC"']
    - path: output/deepbgc/test1.contigs/test1.contigs.bgc.gbk
      md5sum: 7fc70dd034903622dae273bf71b402f2
    - path: output/deepbgc/test1.contigs/test1.contigs.bgc.tsv
      contains: ["sequence_id"]
    - path: output/deepbgc/test1.contigs/test1.contigs.full.gbk
      contains: ["LOCUS"]
    - path: output/deepbgc/test1.contigs/test1.contigs.pfam.tsv
      md5sum: 1179eb4e6df0c83aaeec18d7d34e7524
    - path: output/gunzip/test1.contigs.fa
      md5sum: 80c4d78f2810f6d9e90fa6da9bb9c4f9
