- name: Run bwameth index test workflow
  command: nextflow run ./tests/software/bwameth -profile docker -entry test_bwameth_index -c tests/config/nextflow.config
  tags:
    - bwameth
    - bwameth_index
  files:
    - path: ./output/bwameth/NC_010473.fa.bwameth.c2t.pac
      md5sum: 7586c6a3be45c4dea15376a5c7bb9bf0
    - path: ./output/bwameth/NC_010473.fa.bwameth.c2t.amb
      md5sum: 87e019665cbb66bdee2bacccb26845c9
    - path: ./output/bwameth/NC_010473.fa.bwameth.c2t.ann
      md5sum: a4659a63572b6998c67457bd8e95790d
    - path: ./output/bwameth/NC_010473.fa.bwameth.c2t.bwt
      md5sum: 582854008bcbe99d5b51290773a7db5f
    - path: ./output/bwameth/NC_010473.fa.bwameth.c2t
      md5sum: db670853725f4a31080c991e9df6b330
    - path: ./output/bwameth/NC_010473.fa.bwameth.c2t.sa
      md5sum: 020db07e7e1544dc961c30c9936f3213

- name: Run bwameth single-end test workflow
  command: nextflow run ./tests/software/bwa -profile docker -entry test_bwameth_align_single_end -c tests/config/nextflow.config
  tags:
    - bwameth
    - bwameth_align
  files:
    - path: output/test_single_end/test.bam
      md5sum: 1873323773a8508494e7edc3e2035113

- name: Run bwameth paired-end test workflow
  command: nextflow run ./tests/software/bwa -profile docker -entry test_bwameth_align_paired_end -c tests/config/nextflow.config
  tags:
    - bwameth
    - bwameth_align
  files:
    - path: output/test_paired_end/test.bam
      md5sum: 1f32b10471468596359584ca9f476caf
