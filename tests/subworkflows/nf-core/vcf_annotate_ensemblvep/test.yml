- name: vcf_annotate_ensemblvep vcf_annotate_ensemblvep
  command: nextflow run ./tests/subworkflows/nf-core/vcf_annotate_ensemblvep -entry vcf_annotate_ensemblvep -c ./tests/config/nextflow.config
  tags:
    - bcftools
    - bcftools/concat
    - bcftools/pluginscatter
    - bcftools/sort
    - ensemblvep
    - ensemblvep/vep
    - subworkflows
    - subworkflows/vcf_annotate_ensemblvep
    - tabix
    - tabix/tabix
  files:
    - path: output/bcftools/custom_test.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/custom_test0.vcf
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/custom_test1.vcf
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/custom_test_concat.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/test.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/test0.vcf
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/test1.vcf
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/test_concat.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/ensemblvep/custom_test0_annotated.summary.html
      contains:
        - "<html>"
        - "<head>"
    - path: output/ensemblvep/custom_test0_annotated.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/ensemblvep/custom_test1_annotated.summary.html
      contains:
        - "<html>"
        - "<head>"
    - path: output/ensemblvep/custom_test1_annotated.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/ensemblvep/test0_annotated.summary.html
      contains:
        - "<html>"
        - "<head>"
    - path: output/ensemblvep/test0_annotated.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/ensemblvep/test1_annotated.summary.html
      contains:
        - "<html>"
        - "<head>"
    - path: output/ensemblvep/test1_annotated.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/tabix/custom_test.vcf.gz.tbi
    - path: output/tabix/test.vcf.gz.tbi

- name: vcf_annotate_ensemblvep vcf_annotate_ensemblvep_large_chunks
  command: nextflow run ./tests/subworkflows/nf-core/vcf_annotate_ensemblvep -entry vcf_annotate_ensemblvep_large_chunks -c ./tests/config/nextflow.config
  tags:
    - bcftools
    - bcftools/concat
    - bcftools/pluginscatter
    - bcftools/sort
    - ensemblvep
    - ensemblvep/vep
    - subworkflows
    - subworkflows/vcf_annotate_ensemblvep
    - tabix
    - tabix/tabix
  files:
    - path: output/bcftools/custom_test.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/custom_test0.vcf
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/custom_test_concat.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/test.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/test0.vcf
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/bcftools/test_concat.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/ensemblvep/custom_test0_annotated.summary.html
      contains:
        - "<html>"
        - "<head>"
    - path: output/ensemblvep/custom_test0_annotated.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/ensemblvep/test0_annotated.summary.html
      contains:
        - "<html>"
        - "<head>"
    - path: output/ensemblvep/test0_annotated.vcf.gz
      contains:
        - "##fileformat=VCFv4.2"
        - '##FILTER=<ID=PASS,Description="All filters passed">'
    - path: output/tabix/custom_test.vcf.gz.tbi
    - path: output/tabix/test.vcf.gz.tbi
